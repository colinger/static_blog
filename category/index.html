<!DOCTYPE html>
<html lang="en">
<head>
        <title>Colin go - Android</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="http://colinger.github.io/theme/css/main.css" type="text/css" />
        <link href="http://colinger.github.io/" type="application/atom+xml" rel="alternate" title="Colin go ATOM Feed" />


        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://colinger.github.io/css/ie.css"/>
                <script src="http://colinger.github.io/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://colinger.github.io/css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://colinger.github.io/index.html">Colin go </a></h1>
                <nav><ul>
                <li><a href="http://colinger.github.io/">Archives</a></li>
                </ul></nav>
        </header><!-- /#banner -->

     <section id="content" class="body">
        <aside id="featured"><article>
                <h1 class="entry-title"><a href="http://colinger.github.io/articles/androidbian-ma-gui-fan-can-kao.html">Android编码规范参考</a></h1>
<footer class="post-info">
        <abbr class="published" title="2015-08-20T02:06:00+08:00">
                2015-08-20
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://colinger.github.io/author/colin.html">Colin</a>
        </address>
<p>In <a href="http://colinger.github.io/category/android.html">Android</a>. </p>
</p></footer><!-- /.post-info --><!-- /.post-info -->
                <p>Tags
Slug: android-code-style
Author: Colin</p>
<h3>一、为什么需要编码规范?</h3>
<p>编码规范对于程序员而言尤为重要，有以下几个原因：</p>
<p>一个软件的生命周期中，80%的花费在于维护；</p>
<p>几乎没有任何一个软件，在其整个生命周期中，均由最初的开发人员来维护；</p>
<p>编码规范可以改善软件的可读性，可以让程序员尽快而彻底地理解新的代码；</p>
<p>如果你将源码作为产品发布，就需要确任它是否被很好的打包并且清晰无误，一如你已构建的其它任何产品；</p>
<h3>二、命名</h3>
<h4>1. 包命名</h4>
<p>命名规则：一个唯一包名的前缀总是全部小写的ASCII 字母并且是一个顶级域名，通常是com，edu，gov，mil，net，org。包名的后续部分根据不同机构各自内部的命名规范而不尽相同。这类命名规 范可能以特定目录名的组成来区分部门 (department) ，项目(project)，机器(machine)，或注册名(login names)。
　　例如： com.moleader.nloc.activities;
　　规约：包命名必须以com.moleader开始，后面跟有项目名称（或者缩写），再后面为模块名或层级名称。
　　如：com.moleader.项目缩写.模块名  com.moleader.nloc.bookmark;
　　如：com.moleader.项目缩写.层级名  com.moleader.nloc.activities。</p>
<h4>2. 类和接口命名</h4>
<p>命名规则：类名是个一名词，采用大小写混合的方式，每个单词的首字母大写。尽量使你的类名简洁而富于描述。使用完整单词，避免缩写词（除非该缩写词被更广泛使用，像 URL，HTML) 。<br/>
　　接口一般要使用able、ible、er 等后缀。<br/>
　　例如： class Raster;  class ImageSprite;
　　规约：类名必须使用驼峰规则，即首字母必须大写，如果为词组，则每个单词的首字母也必须要大写，类名必须使用名词，或名词词组。要求类名简单，不允许出现无意义的单词（如 class XXXActivity）。<br/>
　　如：class BookMarkAdd 正确;<br/>
　　如：class AddBookReadPlanActivity 错误！ 应为 class BookReadPlanAddActivity。</p>
<h4>3. 方法的命名</h4>
<p>命名规则：方法名是一个动词，采用大小写混合的方式，第一个单词的首字母小写，其后单词的首字母大写。<br/>
　　例如： <code>public void run(); public String getBookName();</code></p>
<p>类中常用方法的命名：<br/>
　　类的获取方法（一般具有返回值）：<br/>
　　一般要求在被访问的字段名前加上get，如<br/>
　　getFirstName()，getLastName()。一般来说，get前缀方法返回的是单个值，find前缀的方法返回的是列表值。<br/>
　　类的设置方法（一般返回类型为void）：被访问字段名<br/>的前面加上前缀 set，如　　<br/>　　
　　setFirstName()，setLastName()。<br/>
　　类的布尔型的判断方法一般要求方法名使用单词 is或has 做前缀，如isPersistent()，isString()。或者使用具有逻辑意义的单词，例如equal 或equals。<br/>
　　类的普通方法一般采用完整的英文描述说明成员方法功能，第一个单词尽可能采用动词，首字母小写，如openFile()，addCount()。<br/>
　　构造方法应该用递增的方式写（参数多的写在后面）。<br/>
　　toString()方法：一般情况下，每个类都应该定义toString(),其格式为：</p>
<h4>4. 变量命名</h4>
<p>命名规则：第一个单词的首字母小写，其后单词的首字母大写。变量名不应以下划线或美元符号开头，尽管这在语法上是允许的。变量名应简短且富于描 述。变量名的选用应该易于记忆，即，能够指出其用途。尽量避免单个字符的变量名，除非是一次性的临时变量。临时变量通常被取名为 i，j，k，m 和 n，它们一般用于整型；c，d，e，它们一般用于字符型。<br/>
　　例如：String bookName;<br/>
　　规约：变量命名也必须使用驼峰规则，但是首字母必须小写，变量名尽可能的使用名词或名词词组。同样要求简单易懂，不允许出现无意义的单词。<br/>
　　如：String bookName; 正确;<br/>
　　如：String bookNameString; 错误！</p>
<h4>5. 成员变量命名</h4>
<p>同变量命名，但不要在私有变量前添加m字样！</p>
<h4>6. 常量命名</h4>
<p>命名规则：类常量的声明，应该全部大写，单词间用下划线隔开。</p>
<div class="highlight"><pre>　　例如：static final int MIN_WIDTH = 4;
　　例如：static final int MAX_WIDTH = 999;
　　例如：static final int GET_THE_CPU = 1;
</pre></div>


<h4>7. 异常命名</h4>
<p>自定义异常的命名必须以Exception为结尾。已明确标示为一个异常。</p>
<h4>8. layout 命名</h4>
<p>规约：layout xml 的命名必须以全部单词小写，单词间以下划线分割，并且使用名词或名词词组，即使用 view缩写_模块名称_view的逻辑名称来命名。Activity中View的命名格式：逻辑名称+view缩写。
　　如：knowledge_gained_main.xml 正确;
　　如：list_book.xml 错误！</p>
<h4>9. id 命名</h4>
<p>规约：layout 中所使用的id必须以全部单词小写，单词间以下划线分割，并且使用名词或名词词组，并且要求能够通过id直接理解当前组件要实现的功能。</p>
<div class="highlight"><pre>　　如：某TextView @+id/textbookname 错误 !应为 @+id/book_name_show;
　　如：某EditText @+id/textbookname 错误 !应为 @+id/book_name_edit。
</pre></div>


<h4>10. 资源命名</h4>
<p>规约：layout中所使用的所有资源（如drawable,style等）命名必须以全部单词小写，单词间以下划线分割，并且尽可能的使用名词或名词组，即使用 activity名_模块名_用途 来命名。如果为公共资源，如分割线等，则直接用用途来命名。</p>
<div class="highlight"><pre>　　如：menu_icon_navigate.png 正确;
　　如：某分割线：line.png  或 separator.png 正确。
</pre></div>


<h3>三、注释</h3>
<p>Java 程序有两类注释：实现注释(implementation comments)和文档注释(document comments)。实现注释是使用和//界定的注释。文档注释(被称为"doc comments")由界定。文档注释可以通过javadoc 工具转换成HTML 文件。</p>
<h4>1. 文件注释</h4>
<p>所有的源文件都应该在开头有一个注释，其中列出类名、版本信息、日期和版权声明。如下：</p>
<div class="highlight"><pre><span class="cm">/*</span>
<span class="cm">* 文件名</span>
<span class="cm">* 包含类名列表</span>
<span class="cm">* 版本信息，版本号</span>
<span class="cm">* 创建日期</span>
<span class="cm">* 版权声明</span>
<span class="cm">*/</span><span class="w"></span>
</pre></div>


<h4>2. 类注释</h4>
<p>每一个类都要包含如下格式的注释，以说明当前类的功能等。</p>
<div class="highlight"><pre>　　/**
　　* 类名
　　* @author colin@ycode.cn

　　* 实现的主要功能。
　　* 创建日期
　　* 修改者，修改日期，修改内容。
　　*/
</pre></div>


<h4>3. 方法注释</h4>
<p>每一个方法都要包含如下格式的注释包括当前方法的用途，当前方法参数的含义，当前方法返回值的内容和抛出异常的列表。</p>
<div class="highlight"><pre>　　/**
　　*
　　* 方法的一句话概述
　　*
</pre></div>


<p>方法详述（简单方法可不必详述）</p>
<div class="highlight"><pre>   /*   
　　* @params 说明参数含义
　　* @return 说明返回值含义
　　* @throws IOException 说明发生此异常的条件
　　* @throws NullPointerException 说明发生此异常的条件
　　*/
</pre></div>


<h4>4. 类成员变量和常量注释</h4>
<p>成员变量和常量需要使用java doc形式的注释，以说明当前变量或常量的含义</p>
<div class="highlight"><pre>  /**
　　* XXXX含义
　　*/
</pre></div>


<h4>5. 其他注释</h4>
<p>方法内部的注释如果需要多行使用<code>/*…… */</code>形式，如果为单行是用<code>//……</code>形式的注释。不要再方法内部使用 java doc 形式的注释<code>/**……**/</code>，简单的区分方法是，java doc形式的注释在 eclipse中为蓝色，普通注释为绿色。</p>
<h4>6. XML注释</h4>
<p>规约：如果当前layout 或资源需要被多处调用，或为公共使用的layout（若list_item），则需要在xml写明注释。要求注释清晰易懂。</p>
<h3>四、代码风格：</h3>
<h4>1. 缩进</h4>
<p>规约：不允许使用Tab进行缩进，使用空格进行缩进，推荐缩进为2空格。</p>
<h4>2. 空行</h4>
<blockquote>
<p>空行将逻辑相关的代码段分隔开，以提高可读性。<br/>
下列情况应该总是使用空行：<br/>
一个源文件的两个片段(section)之间；<br/>
类声明和接口声明之间；<br/>
两个方法之间；<br/>
方法内的局部变量和方法的第一条语句之间；<br/>
一个方法内的两个逻辑段之间，用以提高可读性。<br/>
规约：通常在变量声明区域之后要用空行分隔，常量声明区域之后要有空行分隔，方法声明之前要有空行分隔。</p>
</blockquote>
<h4>3. 行宽</h4>
<p>无特别规定，因为现在的显示器都比较大，所以推荐使用120进行设置。</p>
<h4>4. 方法</h4>
<p>一个方法尽量不要超过15行，如果方法太长，说明当前方法业务逻辑已经非常复杂，那么就需要进行方法拆分，保证每个方法只作一件事。
不要使用 try catch 处理业务逻辑！！！！</p>
<h4>5. 参数和返回值</h4>
<p>一个方法的参数尽可能的不要超过4个！
　　如果一个方法返回的是一个错误码，请使用异常！！
　　尽可能不要使用null， 替代为异常 或者使用空变量 如返回 List 则可以使用Collections.emptyList()</p>
<h4>6. 神秘的数</h4>
<p>代码中不允许出现单独的数字，字符！如果需要使用数字或字符，则将它们按照含义封装为静态常量（for语句中除外）！</p>
<h3>五、部分经验总结：</h3>
<blockquote>
<p>1、onCreate中完成控件的初始化onResume中完成数据的准备。
　　<br/>
　　2、重复逻辑需要抽象成方法放在类的代码中调用多个类都需要使用到的方法可以做成工具类放在<em>.utils里大量代码的方法重写放在</em>.adapter里。
　　　　<br/>
　　3、应尽量避免使用类变量。一般来说，变量的作用域越小越好。为了减少类变量，方法之一是将数据作为参数在不同方法之间传递，而不是让方法共享类变量。　　<br/>
　　4、java代码中不要出现中文。　　<br/>
　　5、程序中应该有足够的调试信息，一般来讲调试信息必须指明此信息是在哪个文件、哪个方法、哪一行输出的。调试信息的文字描述不应采用缩写的方式，应当尽可能的描述清楚此调试信息的目的。　　<br/>
　　6、styles.xml：将layout中不断重现的style提炼出通用的style通用组件，放到styles.xml中.　　<br/>
　　7、如果多个Activity中包含共同的UI处理，那么可以提炼一个CommonActivity，把通用部分叫由它来处理，其他activity只要继承它即可。　　<br/>
　　8、当快速滑动列表时（SCROLL_STATE_FLING），item中的图片或获取需要消耗资源的view，可以不显示出来；而处于其他两种状 态（SCROLL_STATE_IDLE和SCROLL_STATE_TOUCH_SCROLL），则将那些view显示出来。　　<br/>
　　9、数字、字母和汉字混排占位问题：将数字和字母全角化。由于现在大多数情况下我们的输入都是半角，所以字母和数字的占位无法确定，但是一旦全角化之后，数字、字母的占位就和一个汉字的占位相同了，这样就可以避免由于占位导致的排版问题。　　<br/></p>
</blockquote>
        </article></aside><!-- /#featured -->
</ol><!-- /#posts-list -->
</section><!-- /#content -->

        <aside id="sidebar">
                <div class="widget">
                        <h2>Categories</h2>
                        <ul>
                           <li class="active"><a href="http://colinger.github.io/category/android.html">Android</a></li>
                           <li ><a href="http://colinger.github.io/category/ios.html">iOS</a></li>
                        </ul>
                </div>
                <div class="widget blogroll">
                        <h2>Blogroll</h2>
                        <ul>
                            <li><a href="http://ycode.cn/">云极客</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="widget social">
                        <h2>Social</h2>
                        <ul>
                            <li><a href="http://colinger.github.io/feeds/all.atom.xml" rel="alternate">atom feed</a></li>

                            <li><a href="https://github.com/colinge">colinger@Github</a></li>
                            <li><a href="http://www.weibo.com/colingo/home">colingo@weixin</a></li>
                        </ul>
                </div><!-- /.social -->
        </aside><!-- /#sidebar -->

        <footer id="footer" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>, which takes great advantages of <a href="http://python.org">python</a>.
                </address><!-- /#about -->

                <p>The theme is «notmyidea-cms», a modified version of «notmyidea», the default theme.</p>
        </footer><!-- /#footer -->

</body>
</html>